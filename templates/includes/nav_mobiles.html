<!-- Mobile Navbar -->
<nav class="md:hidden bg-white shadow">
    <div class="flex items-center justify-between p-4">
        <!-- Logo -->
        <a href="{% url 'home' %}" class="text-xl font-bold text-cyan-800">AnimalRescue</a>

        <!-- Burger button -->
        <button id="mobile-menu-btn" class="text-cyan-800 focus:outline-none">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M4 6h16M4 12h16M4 18h16"/>
            </svg>
        </button>
    </div>

    <!-- Mobile dropdown menu -->
    <div class="hidden" id="mobile-menu">
        <div class="px-4 pb-4 space-y-3 bg-lime-100">

            <!-- Search bar -->
            <input type="text" placeholder="Search animals..." 
                   class="w-full px-3 py-2 mt-2 border rounded text-base border-lime-300 focus:border-lime-500 focus:ring focus:ring-lime-200">

            <!-- Categories -->
            <div class="pt-2 space-y-1">
                {% if categories %}
                    {% for category in categories %}
                        <a href="{% url 'animals:by_category' category.slug %}" 
                           class="block text-lime-950 font-medium hover:underline">{{ category.name }}</a>
                    {% endfor %}
                {% else %}
                    <!-- Placeholder categories -->
                    <a href="#" class="block text-lime-950 font-medium hover:underline">Cats</a>
                    <a href="#" class="block text-lime-950 font-medium hover:underline">Dogs</a>
                    <a href="#" class="block text-lime-950 font-medium hover:underline">Small Animals</a>
                {% endif %}
            </div>

            <!-- Volunteer button -->
            <a href="#" class="block bg-cyan-800 text-lime-50 px-3 py-2 rounded text-center mt-2 hover:bg-cyan-700">
                Volunteer with us
            </a>

            <!-- Auth links -->
            <div class="pt-2 border-t mt-2 space-y-1">
                {% if request.user.is_authenticated %}
                    <span class="block mb-1 text-lime-950">Welcome, {{ request.user.username }}</span>
                    
                    {% if user.role == 'donor' %}
                        <a href="#" class="block text-lime-900 hover:underline">Donor Dashboard</a>
                    {% elif user.role == 'volunteer' and user.is_approved %}
                        <a href="#" class="block text-lime-900 hover:underline">Volunteer Dashboard</a>
                    {% elif user.role == 'volunteer' and not user.is_approved %}
                        <a href="#" class="block text-lime-900 hover:underline">Pending Approval</a>
                    {% endif %}
                    
                    <a href="#" class="block text-lime-900 hover:underline">Profile</a>
                    <a href="{% url 'account_logout' %}" class="block text-lime-900 hover:underline">Logout</a>
                {% else %}
                    <a href="{% url 'account_signup' %}" class="block text-lime-900 hover:underline">Register</a>
                    <a href="{% url 'account_login' %}" class="block text-lime-900 hover:underline">Login</a>
                {% endif %}
            </div>

        </div>
    </div>
</nav>

<script>
    const btn = document.getElementById('mobile-menu-btn');
    const menu = document.getElementById('mobile-menu');
    btn.addEventListener('click', () => menu.classList.toggle('hidden'));
</script>