{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="max-w-4xl mx-auto p-6">
    <!-- Animal header -->
    <div class="mb-8">
        <h1 class="text-3xl font-bold text-cyan-800">{{ animal.name }}</h1>
        {% if animal.category %}
        <div class="inline-block bg-lime-100 text-cyan-800 px-3 py-1 rounded-full text-sm mt-2">
            {{ animal.category.name }}
        </div>
        {% endif %}
    </div>

    <!-- Main content grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
        <!-- Left: Image -->
        <div>
            <div class="bg-lime-50 p-4 rounded-xl shadow">
                <img src="{{ animal.image_or_placeholder }}" 
                     alt="{{ animal.name }}" 
                     class="w-full h-64 md:h-80 object-cover rounded-lg">
            </div>
            
            <!-- Quick facts -->
            <div class="mt-6 bg-cyan-50 p-4 rounded-xl">
                <h3 class="text-lg font-bold text-cyan-800 mb-3">About</h3>
                <div class="space-y-2">
                    <div class="flex justify-between">
                        <span class="text-gray-700">Species:</span>
                        <span class="font-medium text-cyan-800">{{ animal.species }}</span>
                    </div>
                    {% if animal.breed %}
                    <div class="flex justify-between">
                        <span class="text-gray-700">Breed:</span>
                        <span class="font-medium text-cyan-800">{{ animal.breed }}</span>
                    </div>
                    {% endif %}
                    <div class="flex justify-between">
                        <span class="text-gray-700">Status:</span>
                        <span class="font-medium text-lime-700">Rescued</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Right: Description & Donation -->
        <div class="space-y-6">
            <!-- Description -->
            <div class="bg-white p-6 rounded-xl shadow border border-lime-100">
                <h2 class="text-xl font-bold text-cyan-800 mb-4">Meet {{ animal.name }}</h2>
                <p class="text-gray-700 mb-4">{{ animal.description }}</p>
                
                {% if animal.story %}
                <div class="mt-6 pt-6 border-t border-lime-200">
                    <h3 class="text-lg font-bold text-cyan-800 mb-3">Their Story</h3>
                    <p class="text-gray-600 italic">{{ animal.story }}</p>
                </div>
                {% endif %}
            </div>

            <!-- Donation Section - SIMPLE -->
            <div class="bg-lime-50 p-6 rounded-xl shadow border border-lime-200">
                <h2 class="text-xl font-bold text-cyan-800 mb-4">Support {{ animal.name }}</h2>
                
                <p class="text-gray-700 mb-6">
                    Your donation helps provide food, medical care, and shelter for {{ animal.name }}.
                </p>

                <!-- Simple donation button -->
                <div class="space-y-4">
                    <a href="{% url 'payments:create_donation' animal.slug %}" 
                       class="block w-full bg-cyan-800 hover:bg-cyan-700 text-white font-bold py-3 px-4 rounded-lg text-center transition">
                        üíù Donate to {{ animal.name }}
                    </a>
                    
                    <!-- Quick amount options -->
                    <div class="text-center">
                        <p class="text-gray-600 text-sm mb-2">Quick donate:</p>
                        <div class="flex justify-center space-x-4">
                            <a href="{% url 'payments:create_donation' animal.slug %}?amount=5" 
                               class="text-cyan-700 hover:text-cyan-800 font-medium">
                                ¬£5
                            </a>
                            <a href="{% url 'payments:create_donation' animal.slug %}?amount=10" 
                               class="text-cyan-700 hover:text-cyan-800 font-medium">
                                ¬£10
                            </a>
                            <a href="{% url 'payments:create_donation' animal.slug %}?amount=25" 
                               class="text-cyan-700 hover:text-cyan-800 font-medium">
                                ¬£25
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Login reminder -->
                {% if not user.is_authenticated %}
                <div class="mt-6 p-3 bg-yellow-50 border border-yellow-200 rounded">
                    <p class="text-yellow-800 text-sm">
                        üîê Please <a href="{% url 'account_login' %}" class="font-bold underline">login</a> 
                        or <a href="{% url 'account_signup' %}" class="font-bold underline">sign up</a> to donate.
                    </p>
                </div>
                {% endif %}
            </div>
        </div>
    </div>

    <!-- Navigation -->
    <div class="mt-8 flex justify-between">
        <a href="{% url 'animals:list' %}" class="text-cyan-700 hover:text-cyan-800">
            ‚Üê All Animals
        </a>
        {% if animal.category %}
        <a href="{% url 'animals:by_category' animal.category.slug %}" class="text-cyan-700 hover:text-cyan-800">
            More {{ animal.category.name }} ‚Üí
        </a>
        {% endif %}
    </div>
</div>
{% endblock %}